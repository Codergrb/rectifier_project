 <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Secure Document Reader</title>
 <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <style>
        :root {
            --bg-color: #f3f4f6;
            --page-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }

        body {
            background-color: var(--bg-color);
            -webkit-user-select: none;
            user-select: none;
            margin: 0;
            overscroll-behavior-y: contain; /* Prevents pull-to-refresh on mobile */
        }

        /* Prevent Print */
        @media print {
            body { display: none !important; }
        }

        /* Container for the pages */
        #doc-viewport {
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 60px 0 20px 0;
        }

        /* Individual Page Wrapper: Responsive Widths */
        .page-item {
            position: relative;
            background: white;
            box-shadow: var(--page-shadow);
            margin-bottom: 12px;
            width: 95%; /* Mobile default */
            max-width: 850px; /* Desktop A4 max width */
            overflow: hidden;
            display: flex;
            justify-content: center;
        }

        /* The Shield: Blocks long-press and right-click on mobile/desktop */
        .shield {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 20;
            background: transparent;
            -webkit-touch-callout: none; /* Disables iOS "Save Image" popup */
        }

        canvas {
            display: block;
            width: 100%; /* Responsive fit */
            height: auto;
            z-index: 10;
        }

        /* Navigation Bar */
        #top-nav {
            position: fixed;
            top: 0;
            width: 100%;
            height: 50px;
            background: white;
            border-bottom: 1px solid #e5e7eb;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 15px;
            z-index: 100;
            box-shadow: 0 1px 2px rgba(0,0,0,0.05);
        }

        /* Watermark */
        .page-mark {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) rotate(-45deg);
            font-size: 8vw;
            color: rgba(0,0,0,0.08);
            pointer-events: none;
            z-index: 15;
            white-space: nowrap;
            font-family: sans-serif;
            font-weight: 800;
        }

        #alert {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0,0,0,0.8);
            color: white;
            padding: 8px 20px;
            border-radius: 20px;
            font-size: 12px;
            opacity: 0;
            transition: opacity 0.3s;
            z-index: 200;
        }
    </style>
</head>
<body oncontextmenu="return false;">

    <div id="top-nav">
        <span class="text-gray-700 font-bold text-sm tracking-tight">coderGRB</span>
        <div class="flex items-center space-x-2">
            <span class="bg-red-100 text-red-600 text-[10px] px-2 py-0.5 rounded font-bold">READ-ONLY</span>
        </div>
    </div>

    <div id="doc-viewport">
        <!-- Loader -->
        <div id="status" class="py-20 text-gray-400 text-sm animate-pulse">Syncing document...</div>
    </div>

    <div id="alert">Action Restricted</div>

    <script>
        
        const documentSource = [
            'img/page-0010.jpg',
            'img/page-0011.jpg',
            'img/page-0012.jpg',
            'img/page-0013.jpg',
            'img/page-0014.jpg',
            'img/page-0015.jpg',
            'img/page-0016.jpg',
            'img/page-0017.jpg'
        ];

        const viewport = document.getElementById('doc-viewport');
        const alertBox = document.getElementById('alert');

        function notify() {
            alertBox.style.opacity = '1';
            setTimeout(() => alertBox.style.opacity = '0', 2000);
        }

        // 2. RENDERER
        async function loadPages() {
            document.getElementById('status').remove();

            for (const url of documentSource) {
                const item = document.createElement('div');
                item.className = "page-item";

                const shield = document.createElement('div');
                shield.className = "shield";

                const mark = document.createElement('div');
                mark.className = "page-mark";
                mark.innerText = "CODER GRB";

                const canvas = document.createElement('canvas');
                const ctx = canvas.getContext('2d', { alpha: false }); // Better performance

                const img = new Image();
                img.crossOrigin = "anonymous";
                img.src = url;

                await new Promise((resolve) => {
                    img.onload = () => {
                        // We set internal canvas resolution to match image quality
                        canvas.width = img.width;
                        canvas.height = img.height;
                        ctx.drawImage(img, 0, 0);
                        
                        item.appendChild(canvas);
                        item.appendChild(mark);
                        item.appendChild(shield);
                        viewport.appendChild(item);
                        resolve();
                    };
                    img.onerror = resolve;
                });
            }
        }

        // 3. SECURITY & SMOOTH SCROLL
        function initProtection() {
            // Block keyboard
            window.addEventListener('keydown', (e) => {
                const forbidden = ['s', 'p', 'u', 'c', 'i'];
                if ((e.ctrlKey || e.metaKey) && forbidden.includes(e.key.toLowerCase())) {
                    e.preventDefault();
                    notify();
                }
            });

            // Prevent mobile long-press "save image" menu
            window.addEventListener('touchstart', (e) => {
                if (e.target.className === 'shield') {
                    // We don't preventDefault() here to allow scrolling to work!
                    // Just the presence of the shield div prevents image interaction.
                }
            }, { passive: true });

            // Detect screenshots/blur
            window.addEventListener('blur', () => {
                viewport.style.filter = 'blur(15px)';
            });
            window.addEventListener('focus', () => {
                viewport.style.filter = 'none';
            });
        }

        window.onload = () => {
            initProtection();
            loadPages();
        };
    </script>
</body>
</html>
